generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

type ProductsStatistics {
  buyerRate Int
  soled     Int
  totalLike Int
  totalRate Int
  views     Int
}

model Ad {
  id         String   @id @default(auto()) @map("_id") @db.ObjectId
  product    Product  @relation(fields: [product_id], references: [id], onDelete: Cascade)
  product_id String   @db.ObjectId
  status     Boolean
  createdAt  DateTime @default(now())
  updatedAt  DateTime @db.Date

  @@map("product_ad")
}

model product_category {
  id String @id @default(auto()) @map("_id") @db.ObjectId
}

model product_description {
  id String @id @default(auto()) @map("_id") @db.ObjectId
}

model product_images {
  id String @id @default(auto()) @map("_id") @db.ObjectId
}

model product_packing {
  id String @id @default(auto()) @map("_id") @db.ObjectId
}

model Product {
  id              String       @id @default(auto()) @map("_id") @db.ObjectId
  brandEn         String
  brandFn         String
  main_cat        Main_cat     @relation(fields: [main_cat_id], references: [id])
  main_cat_id     String       @db.ObjectId
  specific_cat    Specific_cat @relation(fields: [specific_cat_id], references: [id])
  specific_cat_id String       @db.ObjectId

  createdAt    DateTime           @db.Date
  image_url    String
  off_percent  Int
  price        Int
  selling_type String
  statistics   ProductsStatistics
  status       Boolean
  title        String
  updatedAt    DateTime           @db.Date
  Ad           Ad[]

  @@map("products")
}

model Main_cat {
  id           String         @id @default(auto()) @map("_id") @db.ObjectId
  title        String
  label        String
  image        String
  Product      Product[]
  Specific_cat Specific_cat[]

  @@map("products_main_categories")
}

model Specific_cat {
  id           String    @id @default(auto()) @map("_id") @db.ObjectId
  main_cat     Main_cat  @relation(fields: [main_cat_id], references: [id], onDelete: Cascade)
  main_cat_id  String    @db.ObjectId
  products_id  String[]  @db.ObjectId
  title        String
  label        String
  single_image String
  hero_image   String
  Product      Product[]

  @@map("products_specific_categories")
}
